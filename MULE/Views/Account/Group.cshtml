@using MULE.Models
@model group

@{
    ViewBag.Title = "Group";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@Html.DisplayFor(m => m.group_name)</h2>
<div class="row">
    <div class="col-md-12">
        <section id="groupsForm">
                <h4>@Html.DisplayFor(m => m.description)</h4>
                <hr />
        </section>
    </div>
</div>
@{

    UserManager UM = new UserManager();
    GroupManager GM = new GroupManager();

    int u_id = UM.getUserId(User.Identity.Name);
    int g_id = Model.group_id;

    @:<div class="row">
        @:<div class="col-md-12">
            @:<p>
                if(GM.checkMembership(u_id, g_id))
                {
                    @Html.ActionLink("Leave Group", "Groups", "Account")
                }
                else
                {
                    @Html.ActionLink("Join Group", "Group", "Account", new { g_id = g_id }, null)
                }

            @:</p>

        @:</div>
    @:</div>
}


